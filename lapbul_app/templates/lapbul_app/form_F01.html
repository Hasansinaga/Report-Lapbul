{% include 'lapbul_app/header.html' %}
<div id="layoutSidenav_content">
  <main>
    <div class="container-fluid px-4">
      <h5 class="mt-4">FORM F01 - Fasilitas Kredit atau Pembiayaan</h5>
      <hr>
      <a href="{% url 'lapbul_app:slik' %}" class="btn btn-secondary">Kembali</a>
      <br><br>

      <!-- Modal -->
      <div class="modal fade" id="formF01Modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="formF01ModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-xl">
          <div class="modal-content">
            <div class="modal-header bg-secondary">
              <h6 class="modal-title text-white" id="formF01ModalLabel">Form Fasilitas Kredit / Pembiayaan</h6>
              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>

            <div class="modal-body">
              <form>
                <div class="row">
                  <!-- contoh 3 kolom sama panjang -->
                  <div class="col-md-4 mb-3">
                    <label for="norekening" class="form-label">No Rekening</label>
                    <input type="text" class="form-control" id="norekening">
                  </div>
                  <div class="col-md-4 mb-3">
                    <label for="cif" class="form-label">CIF</label>
                    <input type="text" class="form-control" id="cif">
                  </div>
                  <div class="col-md-4 mb-3">
                    <label for="kodesifatkredit" class="form-label">Sifat Kredit</label>
                    <input type="text" class="form-control" id="kodesifatkredit">
                  </div>

                  <div class="col-md-4 mb-3">
                    <label for="kodejeniskredit" class="form-label">Jenis Kredit</label>
                    <input type="text" class="form-control" id="kodejeniskredit">
                  </div>
                  <div class="col-md-4 mb-3">
                    <label for="kodeskim" class="form-label">Skim</label>
                    <input type="text" class="form-control" id="kodeskim">
                  </div>
                  <div class="col-md-4 mb-3">
                    <label for="nomorakadawal" class="form-label">No Akad Awal</label>
                    <input type="text" class="form-control" id="nomorakadawal">
                  </div>

                  <!-- lanjut semua field lainnya dengan col-md-4 -->
                  <!-- ... sampai operasidata -->
                  <div class="col-md-4 mb-3">
                    <label for="operasidata" class="form-label">Operasi Data</label>
                    <input type="text" class="form-control" id="operasidata">
                  </div>
                </div>
              </form>
            </div>

            <div class="modal-footer">
              <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Tutup</button>
              <button type="button" class="btn btn-primary">Simpan Perubahan</button>
            </div>
          </div>
        </div>
      </div>

      <!-- Table dengan data dummy tetap -->
      <table id="datatables" class="table table-bordered table-striped nowrap w-100">
        <thead>
          <tr>
            <th>No Rekening</th>
            <th>CIF</th>
            <th>Sifat Kredit</th>
            <th>Jenis Kredit</th>
            <th>Skim</th>
            <th>No Akad Awal</th>
            <th>Tgl Akad Awal</th>
            <th>No Akad Akhir</th>
            <th>Tgl Akad Akhir</th>
            <th>Baru</th>
            <th>Tgl Awal Kredit</th>
            <th>Tgl Mulai</th>
            <th>Tgl Jth Tempo</th>
            <th>Kategori Debitur</th>
            <th>Jenis Penggunaan</th>
            <th>Orientasi</th>
            <th>Sektor Ekonomi</th>
            <th>Dati2</th>
            <th>Nilai Proyek</th>
            <th>Valuta</th>
            <th>% Suku Bunga</th>
            <th>Jenis SB</th>
            <th>Kredit Program</th>
            <th>Takeover Dari</th>
            <th>Sumber Dana</th>
            <th>Plafond Awal</th>
            <th>Plafon</th>
            <th>Realisasi</th>
            <th>Denda</th>
            <th>Baki Debet</th>
            <th>Nilai dlm MU</th>
            <th>Kolektibilitas</th>
            <th>Tgl Macet</th>
            <th>Sebab Macet</th>
            <th>Tunggakan Pokok</th>
            <th>Tunggakan Bunga</th>
            <th>Hari Tunggakan</th>
            <th>Freq Tunggakan</th>
            <th>Freq Restruktur</th>
            <th>Tgl Restruktur Awal</th>
            <th>Tgl Restruktur Akhir</th>
            <th>Cara Restruktur</th>
            <th>Kode Kondisi</th>
            <th>Tgl Kondisi</th>
            <th>Keterangan</th>
            <th>Kode Kantor</th>
            <th>Operasi Data</th>
            <th>Aksi</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>987654321</td>
            <td>123456</td>
            <td>1</td>
            <td>101</td>
            <td>201</td>
            <td>AK-1001</td>
            <td>20240101</td>
            <td>AK-2001</td>
            <td>20250101</td>
            <td>1</td>
            <td>20240105</td>
            <td>20240106</td>
            <td>20260105</td>
            <td>01</td>
            <td>1</td>
            <td>1</td>
            <td>620001</td>
            <td>3171</td>
            <td>100000000</td>
            <td>IDR</td>
            <td>12.5</td>
            <td>1</td>
            <td>001</td>
            <td>BNI</td>
            <td>SD001</td>
            <td>150000000</td>
            <td>120000000</td>
            <td>110000000</td>
            <td>2000000</td>
            <td>100000000</td>
            <td>IDR 100000000</td>
            <td>1</td>
            <td>20250110</td>
            <td>01</td>
            <td>5000000</td>
            <td>2000000</td>
            <td>10</td>
            <td>2</td>
            <td>1</td>
            <td>20250115</td>
            <td>20250130</td>
            <td>01</td>
            <td>01</td>
            <td>20250201</td>
            <td>Catatan</td>
            <td>001</td>
            <td>I</td>
            <td>
              <a href="#" class="text-secondary me-2 edit" data-bs-toggle="modal" data-bs-target="#formF01Modal"><i class="fas fa-edit"></i></a>
              <a href="#" class="text-danger delete"><i class="fas fa-trash-alt"></i></a>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </main>
</div>

<script>
$(document).ready(function () {
  $('#datatables').DataTable({ scrollX: true, responsive: true });

  document.addEventListener('click', function(e) {
    if (e.target.closest('.edit')) {
      e.preventDefault();
      const row = e.target.closest('tr');
      const cells = row.querySelectorAll('td');
      // contoh mapping (isi semua sesuai field)
      document.getElementById('norekening').value = cells[0].textContent;
      document.getElementById('cif').value = cells[1].textContent;
      // ... lanjut mapping ke semua input lain
    }
  });
});
</script>
{% include 'lapbul_app/footer.html' %}
