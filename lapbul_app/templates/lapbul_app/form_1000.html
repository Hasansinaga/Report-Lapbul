{% include 'lapbul_app/header.html' %}
<style>
     table th:nth-child(1),
    table td:nth-child(1) {
        min-width: 100px; 
    }

    table th:nth-child(2),
    table td:nth-child(2) {
        min-width: 250px; 
    }

    table th:nth-child(3),
    table td:nth-child(3) {
        min-width: 150px; 
    }

    table th:nth-child(4),
    table td:nth-child(4) {
        min-width: 200px;
    }
</style>
<div id="layoutSidenav_content">
    <main>
        <div class="container-fluid px-4">
            <h5 class="mt-4">Form 1000 - Rincian Liabilitas Segera</h5>
            <hr>
            <div class="d-flex justify-content-between">
                <a href="{% url 'lapbul_app:lapbul' %}" class="btn btn-secondary">Kembali</a>
                <button type="submit" class="btn btn-secondary">Simpan</button>
            </div><br>

            <!-- Filter Kantor -->
            <div class="mb-3 d-flex align-items-center gap-2">
                <label for="kantorFilter" class="form-label mb-0">Pilih Sandi Kantor:</label>
                <select id="kantorFilter" class="form-select form-select-sm w-auto" onchange="filterKantor()">
                    <option value="all">semua</option>
                    <option value="001">001</option>
                    <option value="002">002</option>
                </select>
            </div>

            <div class="d-flex justify-content-center">
            <form>
                <table class="table table-bordered" >
                    <thead>
                        <tr><th class="text-center">Sandi Kantor</th>
                                <th class="text-center">Nama Rekening</th>
                                <th class="text-center">Sandi Pos</th>
                                <th class="text-center">Jumlah</th></tr>
                    </thead>
                    <tbody>
                        <tr data-kantor="001">
                        <td class="text-center"><label class="form-label" for="kpmm">001</label></td>
                        <td class="align-middle"><label class="form-label" for="kpmm">Liabilitas kepada pemerintah yang harus dibayar</label></td>
                        <td class="align-middle"><label class="form-label" for="kpmm">2101010000</label></td>
                        <td><input type="text" class="form-control text-end" id="kpmm" name="kpmm" value="9710101" /></td>
                        </tr>
                        <tr data-kantor="001">
                        <td class="text-center"><label class="form-label" for="kpmm">001</label></td>
                        <td class="align-middle"><label class="form-label" for="kpmm">Sanksi Liabilitas membayar kepada otoritas yang belum dibayarkan</label></td>
                        <td class="align-middle"><label class="form-label" for="kpmm">2101020000</label></td>
                        <td><input type="text" class="form-control text-end" id="kpmm" name="kpmm" value="98800" /></td>
                        </tr>
                        <tr data-kantor="001">
                        <td class="text-center"><label class="form-label" for="kpmm">001</label></td>
                        <td class="align-middle"><label class="form-label" for="ckpn">Titipan Nasabah</label></td>
                        <td class="align-middle"><label class="form-label" for="ckpn">2101030000</label></td>
                        <td><input type="text" class="form-control text-end" id="ckpn" name="ckpn" value="190000"></td>
                        </tr>
                        <tr data-kantor="001">
                        <td class="text-center"><label class="form-label" for="kpmm">001</label></td>
                        <td class="align-middle"><label class="form-label" for="npl_net">Kredit yang diberikan bersaldo kredit</label></td>
                        <td class="align-middle"><label class="form-label" for="npl_net">2101040000</label></td>
                        <td><input type="text" class="form-control text-end" id="npl_net" name="npl_net" value="100000" /></td>
                        </tr>
                        <tr data-kantor="001">
                        <td class="text-center"><label class="form-label" for="kpmm">001</label></td>
                        <td class="align-middle"><label class="form-label" for="npl_gross">Dividen yang belum dibayarkan</label></td>
                        <td class="align-middle"><label class="form-label" for="npl_gross">2101050000</label></td>
                        <td><input type="text" class="form-control text-end" id="npl_gross" name="npl_gross" value="100000" /></td>
                        </tr>
                        <tr data-kantor="001">
                        <td class="text-center"><label class="form-label" for="kpmm">001</label></td>
                        <td class="align-middle"><label class="form-label" for="roa">Selisih lebih hasil penjualan agunan milik nasabah</label></td>
                        <td class="align-middle"><label class="form-label" for="roa">2101060000</label></td>
                        <td><input type="text" class="form-control text-end" id="roa" name="roa" value="100000" /></td>
                        </tr>
                        <tr data-kantor="001">
                        <td class="text-center"><label class="form-label" for="kpmm">001</label></td>
                        <td class="align-middle"><label class="form-label" for="bopo">Imbalan kerja</label></td>
                        <td class="align-middle"><label class="form-label" for="bopo">2101070000</label></td>
                        <td><input type="text" class="form-control text-end" id="bopo" name="bopo" value="100000" /></td>
                        </tr>
                        <tr data-kantor="001">
                        <td class="text-center"><label class="form-label" for="kpmm">001</label></td>
                        <td class="align-middle"><label class="form-label" for="nim">Lainnya</label></td>
                        <td class="align-middle"><label class="form-label" for="nim">2101990000</label></td>
                        <td><input type="text" class="form-control text-end" id="nim" name="nim" value="500000" /></td>
                        </tr>
                    </tbody>
                </table>

                </form>
                </div>
                <br>
    </main>
</div>

<script>
    function filterKantor() {
    var selected = document.getElementById("kantorFilter").value;
    var rows = document.querySelectorAll("tbody tr");

    rows.forEach(function(row) {
        if (selected === "all") {
            row.style.display = "";
        } else {
            if (row.getAttribute("data-kantor") === selected) {
                row.style.display = "";
            } else {
                row.style.display = "none";
            }
        }
    });
}

 // Function to format numbers with thousand separators
    function formatNumber(input) {
        let value = input.value.replace(/\D/g, '');
        if (value) {
            input.value = new Intl.NumberFormat('id-ID').format(value);
        }
    }

    document.addEventListener('DOMContentLoaded', function() {
        // Apply initial formatting to all number-input fields
        document.querySelectorAll('input[type="text"]').forEach(input => {
            if (input.value && !isNaN(input.value.replace(/\D/g, ''))) {
                input.classList.add('number-input');
                formatNumber(input);
                
                input.addEventListener('blur', function() {
                    formatNumber(this);
                });
                input.addEventListener('focus', function() {
                    this.value = this.value.replace(/\D/g, '');
                });
            }
        });
    });
</script>
{% include 'lapbul_app/footer.html' %}


