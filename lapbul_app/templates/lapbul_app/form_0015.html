{% include 'lapbul_app/header.html' %}
<div id="layoutSidenav_content">
    <main>
        <div class="container-fluid px-4">
            <h5 class="mt-4">Form 0015 - Rincian Transaksi Terkait Penilaian Risiko TPPU, TPPT, dan PPSPM</h5>
            <hr>
            <div class="d-flex justify-content-between">
                <a href="{% url 'lapbul_app:lapbul' %}" class="btn btn-secondary">Kembali</a>
                <button type="button" class="btn btn-secondary tambah" data-bs-toggle="modal" data-bs-target="#form1401Modal">Simpan</button>
            </div>

            <!-- Filter Sandi -->
            <div class="mb-3 d-flex align-items-center gap-2">
                <label for="sandiFilter" class="form-label mb-0">Pilih Sandi:</label>
                <select id="sandiFilter" class="form-select form-select-sm w-auto" onchange="filterSandi()">
                    <option value="all">semua</option>
                    <option value="5100">5100</option>
                    <option value="5110">5110</option>
                    <option value="5111">5111</option>
                    <option value="5112">5112</option>
                    <option value="5120">5120</option>
                    <option value="5200">5200</option>
                    <option value="5210">5210</option>
                    <option value="5211">5211</option>
                    <option value="5212">5212</option>
                    <option value="5220">5220</option>
                    <option value="5000">5000</option>
                </select>
            </div>

            
            <form>
                
                <table class="table table-bordered table-sm">
                <thead class="table-light">
                    <tr>
                        <!-- <th>Include Text</th> -->
                        <th>Jenis Nasabah</th>
                        <th>Sandi</th>
                        <th>Nominal</th>
                        <th>Jumlah Transaksi</th>
                        <!-- <th>Aksi</th> -->
                    </tr>
                </thead>
                <tbody>
                    <!-- Example rows (replace with loop from backend later) -->
                    <tr data-sandi="5100">
                        <td>1. Transaksi melalui Jaringan Distribusi Tatap Muka</td>
                        <td>5100</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5100" value="6000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5100" value="6000"></td>
                    </tr>
                    <tr data-sandi="5110">
                        <td>1.1 Melibatkan Perpindahan Dana</td>
                        <td>5110</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5110" value="3000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5110" value="3000"></td>
                    </tr>
                    <tr data-sandi="5111">
                        <td>&nbsp;&nbsp;&nbsp;&nbsp;a. Dana Masuk</td>
                        <td>5111</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5111" value="1000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5111" value="1000"></td>
                    </tr>
                    <tr data-sandi="5112">
                        <td>&nbsp;&nbsp;&nbsp;&nbsp;b. Dana Keluar</td>
                        <td>5112</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5112" value="2000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5112" value="2000"></td>
                    </tr>
                    <tr data-sandi="5120">
                        <td>1.2 Tidak melibatkan Perpindahan Dana</td>
                        <td>5120</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5120" value="3000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5120" value="3000"></td>
                    </tr>
                    <tr data-sandi="5200">
                        <td>2. Transaksi melalui Jaringan Distribusi Nontatap Muka</td>
                        <td>5200</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5200" value="15000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5200" value="15000"></td>
                    </tr>
                    <tr data-sandi="5210">
                        <td>2.1 Melibatkan Perpindahan Dana</td>
                        <td>5210</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5210" value="9000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5210" value="9000"></td>
                    </tr>
                    <tr data-sandi="5211">
                        <td>&nbsp;&nbsp;&nbsp;&nbsp;a. Dana Masuk</td>
                        <td>5211</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5211" value="4000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5211" value="4000"></td>
                    </tr>
                    <tr data-sandi="5212">
                        <td>&nbsp;&nbsp;&nbsp;&nbsp;b. Dana Keluar</td>
                        <td>5212</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5212" value="5000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5212" value="5000"></td>
                    </tr>
                    <tr data-sandi="5220">
                        <td>2.2 Tidak melibatkan Perpindahan Dana</td>
                        <td>5220</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5220" value="6000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5220" value="6000"></td>
                    </tr>
                    <tr data-sandi="5000">
                        <td>Total Transaksi</td>
                        <td>5000</td>
                        <td><input type="text" class="form-control form-control-sm" name="nominal_5000" value="21000"></td>
                        <td><input type="text" class="form-control form-control-sm" name="transaksi_5000" value="21000"></td>
                    </tr>
                    <!-- Tambahkan baris lainnya sesuai data dari backend -->
                </tbody>
            </table>
            </form>
            <!-- End Form -->
        </div>
    </main>
</div>

<script>
function filterSandi() {
    var selected = document.getElementById("sandiFilter").value;
    var rows = document.querySelectorAll("tbody tr");

    rows.forEach(function(row) {
        if (selected === "all") {
            row.style.display = "";
        } else {
            if (row.getAttribute("data-sandi") === selected) {
                row.style.display = "";
            } else {
                row.style.display = "none";
            }
        }
    });
}
</script>
{% include 'lapbul_app/footer.html' %}
