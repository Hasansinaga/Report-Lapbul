{% include 'lapbul_app/header.html' %}
<style>
    /* CSS for form alignment and styling */
    .form-container {
        display: flex;
        justify-content: center;
    }
    table td input.form-control {
        text-align: right;
    }
    .form-select.w-auto {
        max-width: fit-content;
    }
</style>

<div id="layoutSidenav_content">
    <main>
        <div class="container-fluid px-4">
            <h5 class="mt-4">Form 1400 - Rincian Liabilitas Lainnya</h5>
            <hr>
    
            <!-- Tombol Kembali & Simpan -->
            <div class="d-flex justify-content-between">
                <a href="{% url 'lapbul_app:lapbul' %}" class="btn btn-secondary">Kembali</a>
                <button type="submit" form="mainForm" class="btn btn-secondary">Simpan</button>
            </div>
            <br>

            <!-- <div class="mb-3 d-flex align-items-center gap-2">
                <label for="sandiFilter" class="form-label mb-0">Pilih Sandi:</label>
                <select id="sandiFilter" class="form-select form-select-sm w-auto" onchange="filterSandi()">
                    <option value="all">semua</option>
                    <option value="2299">2299</option>
                    <option value="2199">2199</option>
                </select>
            </div> -->

            <div class="mb-3 d-flex align-items-center gap-2">
                <label for="kantorFilter" class="form-label mb-0">Pilih Sandi Kantor:</label>
                <select id="kantorFilter" class="form-select form-select-sm w-auto" onchange="filterKantor()">
                    <option value="all">semua</option>
                    <option value="001">001</option>
                    <option value="002">002</option>
                </select>
            </div>

            <!-- Table -->
            <div class="form-container">
                <form id="mainForm">
                    <table class="table table-bordered table-sm">
                        <thead class="table-light text-center">
                            <tr>
                                <th class="text-center">Sandi Kantor</th>
                                <th>Nama Rekening</th>
                                <th class="text-center">Sandi Pos</th>
                                <th>Jumlah</th>
                            </tr>
                        </thead>
                        <tbody>
                            <!-- ================= KANTOR 001 ================= -->
                            <tr data-kantor="001"><td>001</td><td>Utang Bunga</td><td></td><td><input type="text" class="form-control text-end" value=""></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Tabungan Berjangka</td><td>2299010100</td><td><input type="text" class="form-control text-end" value="100.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Deposito</td><td></td><td></td></tr>
                            <tr data-kantor="001"><td>001</td><td>a. Sudah Jatuh Tempo</td><td>2299010201</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>b. Belum Jatuh Tempo</td><td>2299010202</td><td><input type="text" class="form-control text-end" value="100.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Simpanan dari bank lain</td><td></td><td></td></tr>
                            <tr data-kantor="001"><td>001</td><td>a. Sudah Jatuh Tempo</td><td>2299010301</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>b. Belum Jatuh Tempo</td><td>2299010302</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Pinjaman yang diterima dari Bank</td><td></td><td></td></tr>
                            <tr data-kantor="001"><td>001</td><td>a. Sudah Jatuh Tempo</td><td>2299010401</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>b. Belum Jatuh Tempo</td><td>2299010402</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Pinjaman dari Pihak Ketiga Bukan Bank</td><td></td><td></td></tr>
                            <tr data-kantor="001"><td>001</td><td>a. Sudah Jatuh Tempo</td><td>2299010501</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>b. Belum Jatuh Tempo</td><td>2299010502</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Utang Bunga Lainnya</td><td>2299019900</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Utang Pajak</td><td>2299020000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Liabilitas Imbalan Kerja</td><td>2299030000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Liabilitas Sewa Pembiayaan</td><td>2299040000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Taksiran Pajak Penghasilan</td><td>2299050000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Pendapatan yang Ditangguhkan</td><td>2299060000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Liabilitas Pajak Tangguhan</td><td>2299070000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="001"><td>001</td><td>Lainnya</td><td>2299990000</td><td><input type="text" class="form-control text-end" value="100.000"></td></tr>

                            <!-- ================= KANTOR 002 ================= -->
                            <tr data-kantor="002"><td>002</td><td>Utang Bunga</td><td></td><td></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Tabungan Berjangka</td><td>2299010100</td><td><input type="text" class="form-control text-end" value="100.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Deposito</td><td></td><td></td></tr>
                            <tr data-kantor="002"><td>002</td><td>a. Sudah Jatuh Tempo</td><td>2299010201</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>b. Belum Jatuh Tempo</td><td>2299010202</td><td><input type="text" class="form-control text-end" value="100.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Simpanan dari bank lain</td><td></td><td></td></tr>
                            <tr data-kantor="002"><td>002</td><td>a. Sudah Jatuh Tempo</td><td>2299010301</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>b. Belum Jatuh Tempo</td><td>2299010302</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Pinjaman yang diterima dari Bank</td><td></td><td></td></tr>
                            <tr data-kantor="002"><td>002</td><td>a. Sudah Jatuh Tempo</td><td>2299010401</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>b. Belum Jatuh Tempo</td><td>2299010402</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Pinjaman dari Pihak Ketiga Bukan Bank</td><td></td><td></td></tr>
                            <tr data-kantor="002"><td>002</td><td>a. Sudah Jatuh Tempo</td><td>2299010501</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>b. Belum Jatuh Tempo</td><td>2299010502</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Utang Bunga Lainnya</td><td>2299019900</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Utang Pajak</td><td>2299020000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Liabilitas Imbalan Kerja</td><td>2299030000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Liabilitas Sewa Pembiayaan</td><td>2299040000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Taksiran Pajak Penghasilan</td><td>2299050000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Pendapatan yang Ditangguhkan</td><td>2299060000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Liabilitas Pajak Tangguhan</td><td>2299070000</td><td><input type="text" class="form-control text-end" value="50.000"></td></tr>
                            <tr data-kantor="002"><td>002</td><td>Lainnya</td><td>2299990000</td><td><input type="text" class="form-control text-end" value="100.000"></td></tr>
                        </tbody>
                    </table>
                </form>
            </div>
            <br>
    </main>
</div>

<!-- Script Filter -->
<script>  // Function to format numbers with thousand separators\n    function formatNumber(input) {\n        let value = input.value.replace(/\\D/g, '');\n        if (value) {\n            input.value = new Intl.NumberFormat('id-ID').format(value);\n        }\n    }\n\n    document.addEventListener('DOMContentLoaded', function() {\n        // Apply initial formatting to all number-input fields\n        document.querySelectorAll('input[type=\"text\"]').forEach(input => {\n            if (input.value && !isNaN(input.value.replace(/\\D/g, ''))) {\n                input.classList.add('number-input');\n                formatNumber(input);\n                \n                input.addEventListener('blur', function() {\n                    formatNumber(this);\n                });\n                input.addEventListener('focus', function() {\n                    this.value = this.value.replace(/\\D/g, '');\n                });\n            }\n        });\n    });
function filterKantor() {
    var selected = document.getElementById("kantorFilter").value;
    var rows = document.querySelectorAll("tbody tr");

    rows.forEach(function(row) {
        if (selected === "all") {
            row.style.display = "";
        } else {
            row.style.display = row.getAttribute("data-kantor") === selected ? "" : "none";
        }
    });
}
</script>

<!-- CSS untuk center kolom tertentu -->
<style>
    table td:first-child,
    table th:first-child,
    table td:nth-child(3),
    table th:nth-child(3) {
        text-align: center;
        vertical-align: middle;
    }
</style>

{% include 'lapbul_app/footer.html' %}
